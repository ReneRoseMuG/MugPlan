{"numTotalTestSuites":84,"numPassedTestSuites":70,"numFailedTestSuites":14,"numPendingTestSuites":0,"numTotalTests":138,"numPassedTests":125,"numFailedTests":13,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1771174063671,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["startup bootstrap: ensureSystemRoles"],"fullName":"startup bootstrap: ensureSystemRoles creates ADMIN/READER/DISPATCHER when roles table is empty","status":"passed","title":"creates ADMIN/READER/DISPATCHER when roles table is empty","duration":2638.4935000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["startup bootstrap: ensureSystemRoles"],"fullName":"startup bootstrap: ensureSystemRoles is idempotent when called repeatedly","status":"passed","title":"is idempotent when called repeatedly","duration":2825.401,"failureMessages":[],"meta":{}}],"startTime":1771174065789,"endTime":1771174071252.401,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/bootstrap/ensureSystemRoles.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-06 Integration: batch rollback guarantees"],"fullName":"PKG-06 Integration: batch rollback guarantees rolls back complete batch when one item has stale version (no partial updates)","status":"failed","title":"rolls back complete batch when one item has stale version (no partial updates)","duration":3416.6396999999997,"failureMessages":["AssertionError: expected Error: NOT_FOUND { status: 404, …(1) } to match object { status: 409, …(1) }\n    at _Assertion.<anonymous> (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/expect/dist/index.js:1216:10)\n    at _Assertion.<anonymous> (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at _Assertion.methodWrapper (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/chai/index.js:1700:25)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/expect/dist/index.js:1704:20\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/batch/batchRollback.test.ts:34:5\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1771174065892,"endTime":1771174069308.6396,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/batch/batchRollback.test.ts"},{"assertionResults":[{"ancestorTitles":["FT20 integration: live extraction pipeline fixture"],"fullName":"FT20 integration: live extraction pipeline fixture runs full live extraction pipeline for project_form","status":"failed","title":"runs full live extraction pipeline for project_form","duration":296.3388,"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:15845:13\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at OllamaExtractionProvider.extractStructuredData (C:/Users/schro/source/repos/MuGPlan/server/services/aiExtractionService.ts:58:22)\n    at extractFromPdf (C:/Users/schro/source/repos/MuGPlan/server/services/documentProcessingService.ts:25:20)\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/extraction/documentExtraction.livePipeline.fixture.test.ts:28:20\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["FT20 integration: live extraction pipeline fixture"],"fullName":"FT20 integration: live extraction pipeline fixture runs full live extraction pipeline for appointment_form","status":"failed","title":"runs full live extraction pipeline for appointment_form","duration":71.98710000000028,"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:15845:13\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at OllamaExtractionProvider.extractStructuredData (C:/Users/schro/source/repos/MuGPlan/server/services/aiExtractionService.ts:58:22)\n    at extractFromPdf (C:/Users/schro/source/repos/MuGPlan/server/services/documentProcessingService.ts:25:20)\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/extraction/documentExtraction.livePipeline.fixture.test.ts:41:20\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1771174066098,"endTime":1771174066466.987,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/extraction/documentExtraction.livePipeline.fixture.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-08.1 Integration: document text extraction fixture"],"fullName":"PKG-08.1 Integration: document text extraction fixture extracts text from fixture pdf (Gotthardt Anke 163214 AB)","status":"passed","title":"extracts text from fixture pdf (Gotthardt Anke 163214 AB)","duration":282.5398000000001,"failureMessages":[],"meta":{}}],"startTime":1771174064912,"endTime":1771174065194.5398,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/extraction/documentTextExtractor.fixture.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-09 Integration: demo seed base core"],"fullName":"PKG-09 Integration: demo seed base core creates exactly three teams and three tours in base run","status":"failed","title":"creates exactly three teams and three tours in base run","duration":3434.2625999999996,"failureMessages":["Error: Cannot add or update a child row: a foreign key constraint fails (`mugplan_test`.`seed_run_entity`, CONSTRAINT `seed_run_entity_seed_run_fk` FOREIGN KEY (`seed_run_id`) REFERENCES `seed_run` (`id`) ON DELETE CASCADE)\n    at PromisePool.query (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at MySql2PreparedQuery.execute (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/mysql2/session.js:51:32)\n    at QueryPromise.execute (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/mysql-core/query-builders/insert.js:114:27)\n    at QueryPromise.then (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/query-promise.js:21:17)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["PKG-09 Integration: demo seed base core"],"fullName":"PKG-09 Integration: demo seed base core assigns 1-3 employees per team/tour and leaves overflow unassigned","status":"failed","title":"assigns 1-3 employees per team/tour and leaves overflow unassigned","duration":2449.7331000000004,"failureMessages":["Error: Cannot add or update a child row: a foreign key constraint fails (`mugplan_test`.`seed_run_entity`, CONSTRAINT `seed_run_entity_seed_run_fk` FOREIGN KEY (`seed_run_id`) REFERENCES `seed_run` (`id`) ON DELETE CASCADE)\n    at PromisePool.query (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at MySql2PreparedQuery.execute (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/mysql2/session.js:51:32)\n    at QueryPromise.execute (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/mysql-core/query-builders/insert.js:114:27)\n    at QueryPromise.then (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/query-promise.js:21:17)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["PKG-09 Integration: demo seed base core"],"fullName":"PKG-09 Integration: demo seed base core assigns random 1-2 selected statuses per seeded project","status":"failed","title":"assigns random 1-2 selected statuses per seeded project","duration":2093.919600000001,"failureMessages":["Error: Cannot add or update a child row: a foreign key constraint fails (`mugplan_test`.`seed_run_entity`, CONSTRAINT `seed_run_entity_seed_run_fk` FOREIGN KEY (`seed_run_id`) REFERENCES `seed_run` (`id`) ON DELETE CASCADE)\n    at PromisePool.query (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at MySql2PreparedQuery.execute (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/mysql2/session.js:51:32)\n    at QueryPromise.execute (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/mysql-core/query-builders/insert.js:114:27)\n    at QueryPromise.then (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/drizzle-orm/query-promise.js:21:17)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["PKG-09 Integration: demo seed base core"],"fullName":"PKG-09 Integration: demo seed base core rejects invalid base seed payload with deterministic 400 errors","status":"failed","title":"rejects invalid base seed payload with deterministic 400 errors","duration":1808.2289,"failureMessages":["AssertionError: expected Error: Cannot add or update a child row: … { …(5) } to match object { status: 400, …(1) }\n(5 matching properties omitted from actual)\n    at _Assertion.<anonymous> (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/expect/dist/index.js:1216:10)\n    at _Assertion.<anonymous> (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at _Assertion.methodWrapper (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/chai/index.js:1700:25)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/expect/dist/index.js:1704:20\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/seed/demoSeed.base.core.test.ts:104:5\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1771174066444,"endTime":1771174076230.229,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/seed/demoSeed.base.core.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-07 Integration: join replace atomicity"],"fullName":"PKG-07 Integration: join replace atomicity keeps join relations unchanged when replacement contains invalid employee id","status":"failed","title":"keeps join relations unchanged when replacement contains invalid employee id","duration":3101.6906999999997,"failureMessages":["AssertionError: expected [] to deeply equal [ 6, 7 ]\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/joins/joinReplaceAtomicity.test.ts:57:31\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1771174066005,"endTime":1771174069106.6907,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/joins/joinReplaceAtomicity.test.ts"},{"assertionResults":[{"ancestorTitles":["FT20 integration: live ai extraction routes"],"fullName":"FT20 integration: live ai extraction routes extracts via live KI for project_form","status":"failed","title":"extracts via live KI for project_form","duration":3343.8592,"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.liveAi.test.ts:61:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["FT20 integration: live ai extraction routes"],"fullName":"FT20 integration: live ai extraction routes extracts via live KI for appointment_form","status":"failed","title":"extracts via live KI for appointment_form","duration":2346.576399999999,"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.liveAi.test.ts:79:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}}],"startTime":1771174067703,"endTime":1771174073393.5764,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.liveAi.test.ts"},{"assertionResults":[{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns 400 for invalid extraction scope","status":"passed","title":"returns 400 for invalid extraction scope","duration":3140.9203999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns 400 for non-pdf uploads","status":"failed","title":"returns 400 for non-pdf uploads","duration":2080.4091,"failureMessages":["Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at loginAdminAgent (C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.test.ts:61:6)\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.test.ts:74:25\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:1653:37\n----\n    at Test._assertStatus (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns 413 when multipart parser reports payload too large","status":"passed","title":"returns 413 when multipart parser reports payload too large","duration":1988.8069999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns 422 when extraction has no extractable text","status":"failed","title":"returns 422 when extraction has no extractable text","duration":1832.0283999999992,"failureMessages":["Error: expected 422 \"Unprocessable Entity\", got 503 \"Service Unavailable\"\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.test.ts:103:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns 422 for validator structure errors (ZodError)","status":"passed","title":"returns 422 for validator structure errors (ZodError)","duration":1457.1193000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns 500 on unexpected service errors","status":"passed","title":"returns 500 on unexpected service errors","duration":1142.0185000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns normalized extraction on successful request","status":"passed","title":"returns normalized extraction on successful request","duration":1158.9146,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns duplicate=false/count=0 for missing customer number","status":"passed","title":"returns duplicate=false/count=0 for missing customer number","duration":1101.3022999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns duplicate=true/count=1 for existing customer number","status":"passed","title":"returns duplicate=true/count=1 for existing customer number","duration":1217.3222999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 integration: document extraction routes"],"fullName":"FT20 integration: document extraction routes returns none/single/multiple in resolve-customer-by-number","status":"passed","title":"returns none/single/multiple in resolve-customer-by-number","duration":1120.7298999999985,"failureMessages":[],"meta":{}}],"startTime":1771174067706,"endTime":1771174083945.73,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/server/documentExtraction.routes.test.ts"},{"assertionResults":[{"ancestorTitles":["FT15 integration: project status lifecycle"],"fullName":"FT15 integration: project status lifecycle returns 422 when updating without version","status":"passed","title":"returns 422 when updating without version","duration":3165.4923999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 integration: project status lifecycle"],"fullName":"FT15 integration: project status lifecycle returns 409 VERSION_CONFLICT on stale update version","status":"passed","title":"returns 409 VERSION_CONFLICT on stale update version","duration":2241.9197000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 integration: project status lifecycle"],"fullName":"FT15 integration: project status lifecycle toggles active state successfully with version","status":"passed","title":"toggles active state successfully with version","duration":1829.761699999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 integration: project status lifecycle"],"fullName":"FT15 integration: project status lifecycle blocks delete when status is in use","status":"passed","title":"blocks delete when status is in use","duration":1933.5162,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 integration: project status lifecycle"],"fullName":"FT15 integration: project status lifecycle blocks delete when status is default","status":"passed","title":"blocks delete when status is default","duration":1378.5730000000003,"failureMessages":[],"meta":{}}],"startTime":1771174067705,"endTime":1771174078254.573,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/server/projectStatus.lifecycle.test.ts"},{"assertionResults":[{"ancestorTitles":["FT15 integration: project status relations"],"fullName":"FT15 integration: project status relations blocks add relation for inactive status","status":"passed","title":"blocks add relation for inactive status","duration":3203.7314999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 integration: project status relations"],"fullName":"FT15 integration: project status relations adds relation with expectedVersion=0 and blocks second add with VERSION_CONFLICT","status":"failed","title":"adds relation with expectedVersion=0 and blocks second add with VERSION_CONFLICT","duration":2334.9828000000007,"failureMessages":["Error: expected 201 \"Created\", got 503 \"Service Unavailable\"\n    at C:/Users/schro/source/repos/MuGPlan/tests/integration/server/projectStatus.relations.test.ts:111:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/schro/source/repos/MuGPlan/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\schro\\source\\repos\\MuGPlan\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["FT15 integration: project status relations"],"fullName":"FT15 integration: project status relations removes existing relation with matching version and blocks stale version","status":"passed","title":"removes existing relation with matching version and blocks stale version","duration":1759.0919000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 integration: project status relations"],"fullName":"FT15 integration: project status relations returns NOT_FOUND when removing non-existing relation","status":"passed","title":"returns NOT_FOUND when removing non-existing relation","duration":1858.8680000000004,"failureMessages":[],"meta":{}}],"startTime":1771174067704,"endTime":1771174076861.868,"status":"failed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/integration/server/projectStatus.relations.test.ts"},{"assertionResults":[{"ancestorTitles":["authService.login identifier"],"fullName":"authService.login identifier authenticates by email identifier","status":"passed","title":"authenticates by email identifier","duration":3.6961000000000013,"failureMessages":[],"meta":{}}],"startTime":1771174068685,"endTime":1771174068688.696,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/auth/loginIdentifier.test.ts"},{"assertionResults":[{"ancestorTitles":["passwordHash"],"fullName":"passwordHash hashes and verifies a password","status":"passed","title":"hashes and verifies a password","duration":179.8435,"failureMessages":[],"meta":{}}],"startTime":1771174064614,"endTime":1771174064793.8435,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/auth/passwordHash.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-15 Authorization: projectStatusService"],"fullName":"PKG-15 Authorization: projectStatusService rejects list(all) for DISPONENT with FORBIDDEN","status":"passed","title":"rejects list(all) for DISPONENT with FORBIDDEN","duration":4.319299999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Authorization: projectStatusService"],"fullName":"PKG-15 Authorization: projectStatusService rejects create for DISPONENT with FORBIDDEN","status":"passed","title":"rejects create for DISPONENT with FORBIDDEN","duration":0.629099999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Authorization: projectStatusService"],"fullName":"PKG-15 Authorization: projectStatusService rejects add relation for LESER with FORBIDDEN","status":"passed","title":"rejects add relation for LESER with FORBIDDEN","duration":0.46630000000004657,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Authorization: projectStatusService"],"fullName":"PKG-15 Authorization: projectStatusService allows DISPONENT to add and remove relation","status":"passed","title":"allows DISPONENT to add and remove relation","duration":1.6193000000000097,"failureMessages":[],"meta":{}}],"startTime":1771174068443,"endTime":1771174068450.6194,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/authorization/projectStatusAuthorization.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-03 Authorization & Roles: usersService"],"fullName":"PKG-03 Authorization & Roles: usersService rejects listUsers for non-admin context with 403","status":"passed","title":"rejects listUsers for non-admin context with 403","duration":4.033699999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-03 Authorization & Roles: usersService"],"fullName":"PKG-03 Authorization & Roles: usersService rejects changeUserRole for non-admin context with 403","status":"passed","title":"rejects changeUserRole for non-admin context with 403","duration":0.5396999999999821,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-03 Authorization & Roles: usersService"],"fullName":"PKG-03 Authorization & Roles: usersService prevents self-demotion of last admin with BUSINESS_CONFLICT","status":"passed","title":"prevents self-demotion of last admin with BUSINESS_CONFLICT","duration":0.9693000000000325,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-03 Authorization & Roles: usersService"],"fullName":"PKG-03 Authorization & Roles: usersService prevents demotion when no other active admin remains","status":"passed","title":"prevents demotion when no other active admin remains","duration":0.7216999999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-03 Authorization & Roles: resolveUserRole middleware"],"fullName":"PKG-03 Authorization & Roles: resolveUserRole middleware maps roleCode to canonical roleKey and sets req.userContext","status":"passed","title":"maps roleCode to canonical roleKey and sets req.userContext","duration":1.4239999999999782,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-03 Authorization & Roles: resolveUserRole middleware"],"fullName":"PKG-03 Authorization & Roles: resolveUserRole middleware fails deterministically when request userId is missing","status":"passed","title":"fails deterministically when request userId is missing","duration":0.8336999999999648,"failureMessages":[],"meta":{}}],"startTime":1771174068122,"endTime":1771174068130.8337,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/authorization/roleGuards.test.ts"},{"assertionResults":[{"ancestorTitles":["usersService.createUser"],"fullName":"usersService.createUser rejects non-admin context","status":"passed","title":"rejects non-admin context","duration":3.0363000000000397,"failureMessages":[],"meta":{}},{"ancestorTitles":["usersService.createUser"],"fullName":"usersService.createUser validates password length","status":"passed","title":"validates password length","duration":0.5269000000000119,"failureMessages":[],"meta":{}},{"ancestorTitles":["usersService.createUser"],"fullName":"usersService.createUser creates user and returns refreshed list","status":"passed","title":"creates user and returns refreshed list","duration":2.612000000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["usersService.createUser"],"fullName":"usersService.createUser maps duplicate repository error to BUSINESS_CONFLICT","status":"passed","title":"maps duplicate repository error to BUSINESS_CONFLICT","duration":0.9995999999999867,"failureMessages":[],"meta":{}}],"startTime":1771174068034,"endTime":1771174068040.9995,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/authorization/userCreate.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-05 Invariant: attachment security rules"],"fullName":"PKG-05 Invariant: attachment security rules returns 405 for project attachment delete endpoint","status":"passed","title":"returns 405 for project attachment delete endpoint","duration":4.091099999999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-05 Invariant: attachment security rules"],"fullName":"PKG-05 Invariant: attachment security rules uses inline disposition for PDF when download is not forced","status":"passed","title":"uses inline disposition for PDF when download is not forced","duration":0.9776999999999703,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-05 Invariant: attachment security rules"],"fullName":"PKG-05 Invariant: attachment security rules uses inline disposition for image mime types when download is not forced","status":"passed","title":"uses inline disposition for image mime types when download is not forced","duration":0.5727999999999724,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-05 Invariant: attachment security rules"],"fullName":"PKG-05 Invariant: attachment security rules uses attachment disposition for non-inline mimes when download is not forced","status":"passed","title":"uses attachment disposition for non-inline mimes when download is not forced","duration":0.43729999999999336,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-05 Invariant: attachment security rules"],"fullName":"PKG-05 Invariant: attachment security rules forces attachment disposition regardless of mime type when download flag is set","status":"passed","title":"forces attachment disposition regardless of mime type when download flag is set","duration":0.6415999999999826,"failureMessages":[],"meta":{}}],"startTime":1771174068184,"endTime":1771174068190.6416,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/invariants/attachmentRules.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-01 Invariant: conflict priority"],"fullName":"PKG-01 Invariant: conflict priority returns 409 BUSINESS_CONFLICT when overlap exists","status":"passed","title":"returns 409 BUSINESS_CONFLICT when overlap exists","duration":4.221799999999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: conflict priority"],"fullName":"PKG-01 Invariant: conflict priority does not execute version-update path when business conflict already happened","status":"passed","title":"does not execute version-update path when business conflict already happened","duration":1.3343999999999596,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: conflict priority"],"fullName":"PKG-01 Invariant: conflict priority surfaces deterministic appointment error type and code for conflict-priority case","status":"passed","title":"surfaces deterministic appointment error type and code for conflict-priority case","duration":0.6289000000000442,"failureMessages":[],"meta":{}}],"startTime":1771174067811,"endTime":1771174067817.629,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/invariants/conflictPriority.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-02 Invariant: locking rules"],"fullName":"PKG-02 Invariant: locking rules blocks update for non-admin on locked appointment with deterministic LOCK_VIOLATION","status":"passed","title":"blocks update for non-admin on locked appointment with deterministic LOCK_VIOLATION","duration":7.094299999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-02 Invariant: locking rules"],"fullName":"PKG-02 Invariant: locking rules blocks delete for non-admin on locked appointment with deterministic LOCK_VIOLATION","status":"passed","title":"blocks delete for non-admin on locked appointment with deterministic LOCK_VIOLATION","duration":1.6235000000000355,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-02 Invariant: locking rules"],"fullName":"PKG-02 Invariant: locking rules allows admin update on locked appointment and proceeds to optimistic-lock update path","status":"passed","title":"allows admin update on locked appointment and proceeds to optimistic-lock update path","duration":1.1819000000000415,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-02 Invariant: locking rules"],"fullName":"PKG-02 Invariant: locking rules allows admin delete on locked appointment","status":"passed","title":"allows admin delete on locked appointment","duration":0.7267000000000507,"failureMessages":[],"meta":{}}],"startTime":1771174067490,"endTime":1771174067500.7268,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/invariants/lockingRules.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking appointment update succeeds with matching version","status":"passed","title":"appointment update succeeds with matching version","duration":4.88289999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking appointment update returns 409 VERSION_CONFLICT for stale version","status":"passed","title":"appointment update returns 409 VERSION_CONFLICT for stale version","duration":1.9465000000000146,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking appointment delete returns 409 VERSION_CONFLICT for wrong version","status":"passed","title":"appointment delete returns 409 VERSION_CONFLICT for wrong version","duration":1.281000000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking project update returns 409 VERSION_CONFLICT when repository reports version_conflict","status":"passed","title":"project update returns 409 VERSION_CONFLICT when repository reports version_conflict","duration":0.6564999999999941,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking project delete returns 409 VERSION_CONFLICT when repository reports version_conflict","status":"passed","title":"project delete returns 409 VERSION_CONFLICT when repository reports version_conflict","duration":0.533299999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking note update returns 409 VERSION_CONFLICT when repository reports version_conflict","status":"passed","title":"note update returns 409 VERSION_CONFLICT when repository reports version_conflict","duration":0.5349999999999682,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-01 Invariant: optimistic locking"],"fullName":"PKG-01 Invariant: optimistic locking note delete returns 409 VERSION_CONFLICT when repository reports version_conflict","status":"passed","title":"note delete returns 409 VERSION_CONFLICT when repository reports version_conflict","duration":0.45860000000004675,"failureMessages":[],"meta":{}}],"startTime":1771174066926,"endTime":1771174066936.4585,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/invariants/optimisticLocking.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-15 Invariant: project status assignment rules"],"fullName":"PKG-15 Invariant: project status assignment rules blocks assigning inactive status with BUSINESS_CONFLICT","status":"passed","title":"blocks assigning inactive status with BUSINESS_CONFLICT","duration":4.684500000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Invariant: project status assignment rules"],"fullName":"PKG-15 Invariant: project status assignment rules assigns active status with expectedVersion=0","status":"passed","title":"assigns active status with expectedVersion=0","duration":1.4712999999999852,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Invariant: project status assignment rules"],"fullName":"PKG-15 Invariant: project status assignment rules blocks add when relation already exists with VERSION_CONFLICT","status":"passed","title":"blocks add when relation already exists with VERSION_CONFLICT","duration":0.44959999999997535,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Invariant: project status assignment rules"],"fullName":"PKG-15 Invariant: project status assignment rules removes relation with matching version","status":"passed","title":"removes relation with matching version","duration":0.9404999999999859,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Invariant: project status assignment rules"],"fullName":"PKG-15 Invariant: project status assignment rules returns VERSION_CONFLICT for stale remove version","status":"passed","title":"returns VERSION_CONFLICT for stale remove version","duration":0.49979999999999336,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-15 Invariant: project status assignment rules"],"fullName":"PKG-15 Invariant: project status assignment rules returns NOT_FOUND when relation is missing","status":"passed","title":"returns NOT_FOUND when relation is missing","duration":0.4046000000000163,"failureMessages":[],"meta":{}}],"startTime":1771174067710,"endTime":1771174067719.4045,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/invariants/projectStatusAssignmentRules.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-02 Invariant: resetDatabase guardrails"],"fullName":"PKG-02 Invariant: resetDatabase guardrails throws when NODE_ENV is not test","status":"passed","title":"throws when NODE_ENV is not test","duration":134.2124,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-02 Invariant: resetDatabase guardrails"],"fullName":"PKG-02 Invariant: resetDatabase guardrails throws when MYSQL_DATABASE_URL is not a test database","status":"passed","title":"throws when MYSQL_DATABASE_URL is not a test database","duration":1.5414999999999281,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-02 Invariant: resetDatabase guardrails"],"fullName":"PKG-02 Invariant: resetDatabase guardrails does not execute database actions when environment is invalid","status":"passed","title":"does not execute database actions when environment is invalid","duration":3.1898000000001048,"failureMessages":[],"meta":{}}],"startTime":1771174065275,"endTime":1771174065414.1897,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/invariants/resetDatabaseGuard.test.ts"},{"assertionResults":[{"ancestorTitles":["documentTextExtractor"],"fullName":"documentTextExtractor extracts and normalizes text across pages","status":"passed","title":"extracts and normalizes text across pages","duration":3.3208999999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["documentTextExtractor"],"fullName":"documentTextExtractor throws deterministic error when no extractable text exists","status":"passed","title":"throws deterministic error when no extractable text exists","duration":2.295099999999991,"failureMessages":[],"meta":{}}],"startTime":1771174068809,"endTime":1771174068814.2952,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/extraction/documentTextExtractor.test.ts"},{"assertionResults":[{"ancestorTitles":["FT02 project name format"],"fullName":"FT02 project name format formats prefixed project name","status":"passed","title":"formats prefixed project name","duration":1.7327000000000226,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT02 project name format"],"fullName":"FT02 project name format parses prefixed project name into isolated project name","status":"passed","title":"parses prefixed project name into isolated project name","duration":1.186399999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT02 project name format"],"fullName":"FT02 project name format keeps legacy unprefixed name as isolated name","status":"passed","title":"keeps legacy unprefixed name as isolated name","duration":0.3795000000000073,"failureMessages":[],"meta":{}}],"startTime":1771174069648,"endTime":1771174069651.3794,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/lib/projectNameFormat.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-09 Unit: demoDataFiller formats"],"fullName":"PKG-09 Unit: demoDataFiller formats builds employee email as firstname.lastname@email.de","status":"passed","title":"builds employee email as firstname.lastname@email.de","duration":3.9738000000000966,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-09 Unit: demoDataFiller formats"],"fullName":"PKG-09 Unit: demoDataFiller formats builds customer email as firstname.lastname@email.de (deterministic by seed)","status":"passed","title":"builds customer email as firstname.lastname@email.de (deterministic by seed)","duration":2.7053000000000793,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-09 Unit: demoDataFiller formats"],"fullName":"PKG-09 Unit: demoDataFiller formats generates plausible German phone numbers","status":"passed","title":"generates plausible German phone numbers","duration":7.552899999999909,"failureMessages":[],"meta":{}}],"startTime":1771174066993,"endTime":1771174067007.553,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/seed/demoDataFiller.format.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-09 Unit: demoSeed group assignments"],"fullName":"PKG-09 Unit: demoSeed group assignments distributes employees into three buckets with min=1 and max=3","status":"passed","title":"distributes employees into three buckets with min=1 and max=3","duration":1.5396000000000072,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-09 Unit: demoSeed group assignments"],"fullName":"PKG-09 Unit: demoSeed group assignments marks overflow employees as unassigned when n > groupCount*max","status":"passed","title":"marks overflow employees as unassigned when n > groupCount*max","duration":0.56219999999999,"failureMessages":[],"meta":{}}],"startTime":1771174069048,"endTime":1771174069050.5623,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/seed/demoSeedAssignments.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-08 SettingsProvider versioning"],"fullName":"PKG-08 SettingsProvider versioning resolves version by selected scope","status":"passed","title":"resolves version by selected scope","duration":1.412599999999884,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 SettingsProvider versioning"],"fullName":"PKG-08 SettingsProvider versioning falls back to version=1 when no persisted scope value exists","status":"passed","title":"falls back to version=1 when no persisted scope value exists","duration":0.3099000000001979,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 SettingsProvider versioning"],"fullName":"PKG-08 SettingsProvider versioning retries once after VERSION_CONFLICT using refreshed version","status":"passed","title":"retries once after VERSION_CONFLICT using refreshed version","duration":1.8420000000000982,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 SettingsProvider versioning"],"fullName":"PKG-08 SettingsProvider versioning detects VERSION_CONFLICT from error message","status":"passed","title":"detects VERSION_CONFLICT from error message","duration":0.33140000000003056,"failureMessages":[],"meta":{}}],"startTime":1771174070134,"endTime":1771174070138.3313,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/settings/settingsProvider.versioning.test.tsx"},{"assertionResults":[{"ancestorTitles":["PKG-08 user settings resolved mapping"],"fullName":"PKG-08 user settings resolved mapping maps scope versions and resolvedVersion for USER resolved values","status":"passed","title":"maps scope versions and resolvedVersion for USER resolved values","duration":3.7536999999999807,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 user settings resolved mapping"],"fullName":"PKG-08 user settings resolved mapping keeps version fields undefined when only default value resolves","status":"passed","title":"keeps version fields undefined when only default value resolves","duration":0.5357999999999947,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 user settings resolved mapping"],"fullName":"PKG-08 user settings resolved mapping maps global version and resolved value for hoverPreviewOpenDelayMs","status":"passed","title":"maps global version and resolved value for hoverPreviewOpenDelayMs","duration":0.4032999999999447,"failureMessages":[],"meta":{}}],"startTime":1771174068361,"endTime":1771174068365.536,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/settings/userSettingsResolvedMapping.test.ts"},{"assertionResults":[{"ancestorTitles":["FT20 document processing customer resolution"],"fullName":"FT20 document processing customer resolution returns none when no customer exists","status":"passed","title":"returns none when no customer exists","duration":4.311799999999948,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 document processing customer resolution"],"fullName":"FT20 document processing customer resolution returns single when exactly one customer exists","status":"passed","title":"returns single when exactly one customer exists","duration":0.6935000000000855,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 document processing customer resolution"],"fullName":"FT20 document processing customer resolution returns multiple when more than one customer exists","status":"passed","title":"returns multiple when more than one customer exists","duration":0.447400000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 document processing customer resolution"],"fullName":"FT20 document processing customer resolution maps duplicate flag from resolution count","status":"passed","title":"maps duplicate flag from resolution count","duration":0.6669000000000551,"failureMessages":[],"meta":{}}],"startTime":1771174069237,"endTime":1771174069242.667,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/services/documentProcessing.customerResolution.test.ts"},{"assertionResults":[{"ancestorTitles":["PKG-04 Validation & DTO: handleZodError"],"fullName":"PKG-04 Validation & DTO: handleZodError maps invalid payload errors to 400 validation response","status":"passed","title":"maps invalid payload errors to 400 validation response","duration":8.062600000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-04 Validation & DTO: handleZodError"],"fullName":"PKG-04 Validation & DTO: handleZodError returns false for non-zod errors","status":"passed","title":"returns false for non-zod errors","duration":0.7611000000000558,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-04 Validation & DTO: document extraction does not persist implicitly"],"fullName":"PKG-04 Validation & DTO: document extraction does not persist implicitly extractFromPdf returns normalized extraction and never persists customer data","status":"passed","title":"extractFromPdf returns normalized extraction and never persists customer data","duration":1.9779000000000337,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-04 Validation & DTO: document extraction does not persist implicitly"],"fullName":"PKG-04 Validation & DTO: document extraction does not persist implicitly does not persist when provider returns invalid JSON error","status":"passed","title":"does not persist when provider returns invalid JSON error","duration":2.2869999999999777,"failureMessages":[],"meta":{}}],"startTime":1771174067363,"endTime":1771174067376.287,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/validation/dtoValidators.test.ts"},{"assertionResults":[{"ancestorTitles":["FT20 extraction validator structure"],"fullName":"FT20 extraction validator structure normalizes optional fields and trims warnings","status":"passed","title":"normalizes optional fields and trims warnings","duration":5.08869999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 extraction validator structure"],"fullName":"FT20 extraction validator structure categorizes articles and generates semantic html","status":"passed","title":"categorizes articles and generates semantic html","duration":1.8682000000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 extraction validator structure"],"fullName":"FT20 extraction validator structure escapes html-sensitive text","status":"passed","title":"escapes html-sensitive text","duration":0.40739999999999554,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 extraction validator structure"],"fullName":"FT20 extraction validator structure throws when required structure is missing","status":"passed","title":"throws when required structure is missing","duration":1.872099999999989,"failureMessages":[],"meta":{}}],"startTime":1771174067862,"endTime":1771174067871.872,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/validation/extractionValidator.structure.test.ts"},{"assertionResults":[{"ancestorTitles":["FT20 appointment form document extraction flow wiring"],"fullName":"FT20 appointment form document extraction flow wiring calls extract endpoint with appointment_form scope","status":"passed","title":"calls extract endpoint with appointment_form scope","duration":1.1831999999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 appointment form document extraction flow wiring"],"fullName":"FT20 appointment form document extraction flow wiring wires dropzone and extraction dialog","status":"passed","title":"wires dropzone and extraction dialog","duration":0.3412000000000148,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 appointment form document extraction flow wiring"],"fullName":"FT20 appointment form document extraction flow wiring wires apply callbacks and disable rules","status":"passed","title":"wires apply callbacks and disable rules","duration":0.28010000000000446,"failureMessages":[],"meta":{}}],"startTime":1771174069094,"endTime":1771174069096.3413,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/appointmentForm.documentExtractionFlow.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT01 appointment form relation slot wiring"],"fullName":"FT01 appointment form relation slot wiring uses project relation slot with lock-aware readonly state","status":"passed","title":"uses project relation slot with lock-aware readonly state","duration":1.752299999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT01 appointment form relation slot wiring"],"fullName":"FT01 appointment form relation slot wiring keeps legacy project select test id","status":"passed","title":"keeps legacy project select test id","duration":0.3128000000000384,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT01 appointment form relation slot wiring"],"fullName":"FT01 appointment form relation slot wiring renders customer relation as readonly slot","status":"passed","title":"renders customer relation as readonly slot","duration":0.30639999999999645,"failureMessages":[],"meta":{}}],"startTime":1771174069912,"endTime":1771174069914.3127,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/appointmentForm.relationSlots.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT03 weekly preview width resolution"],"fullName":"FT03 weekly preview width resolution returns fallback width when no value is stored","status":"passed","title":"returns fallback width when no value is stored","duration":1.8243999999999687,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT03 weekly preview width resolution"],"fullName":"FT03 weekly preview width resolution returns stored width when a valid value exists","status":"passed","title":"returns stored width when a valid value exists","duration":0.36889999999999645,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT03 weekly preview width resolution"],"fullName":"FT03 weekly preview width resolution rejects invalid stored values","status":"passed","title":"rejects invalid stored values","duration":0.46179999999998245,"failureMessages":[],"meta":{}}],"startTime":1771174068756,"endTime":1771174068758.462,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/appointmentWeeklyPanelPreview.width.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT03 hover preview delay setting"],"fullName":"FT03 hover preview delay setting prefers global setting over component openDelay","status":"passed","title":"prefers global setting over component openDelay","duration":1.5752999999999702,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT03 hover preview delay setting"],"fullName":"FT03 hover preview delay setting uses component openDelay when global setting is missing","status":"passed","title":"uses component openDelay when global setting is missing","duration":0.25469999999995707,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT03 hover preview delay setting"],"fullName":"FT03 hover preview delay setting falls back to default when both values are missing","status":"passed","title":"falls back to default when both values are missing","duration":0.21209999999996398,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT03 hover preview delay setting"],"fullName":"FT03 hover preview delay setting normalizes negative values to zero","status":"passed","title":"normalizes negative values to zero","duration":0.2760999999998148,"failureMessages":[],"meta":{}}],"startTime":1771174070581,"endTime":1771174070584.2761,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/hoverPreview.delaySetting.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT02 project form customer relation slot wiring"],"fullName":"FT02 project form customer relation slot wiring uses relation slot with customer state mapping","status":"passed","title":"uses relation slot with customer state mapping","duration":1.5614999999999668,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT02 project form customer relation slot wiring"],"fullName":"FT02 project form customer relation slot wiring wires add and remove actions to expected handlers","status":"passed","title":"wires add and remove actions to expected handlers","duration":0.4619999999999891,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT02 project form customer relation slot wiring"],"fullName":"FT02 project form customer relation slot wiring keeps customer required validation","status":"passed","title":"keeps customer required validation","duration":0.18700000000001182,"failureMessages":[],"meta":{}}],"startTime":1771174069429,"endTime":1771174069431.462,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/projectForm.customerRelationSlot.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT20 project form document extraction flow wiring"],"fullName":"FT20 project form document extraction flow wiring calls extract endpoint with project_form scope","status":"passed","title":"calls extract endpoint with project_form scope","duration":1.8298000000000343,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 project form document extraction flow wiring"],"fullName":"FT20 project form document extraction flow wiring wires dropzone and dialog state","status":"passed","title":"wires dropzone and dialog state","duration":0.5662999999999556,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT20 project form document extraction flow wiring"],"fullName":"FT20 project form document extraction flow wiring wires customer/project apply callbacks","status":"passed","title":"wires customer/project apply callbacks","duration":0.29239999999998645,"failureMessages":[],"meta":{}}],"startTime":1771174069766,"endTime":1771174069769.2925,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/projectForm.documentExtractionFlow.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT15 project form relation locking wiring"],"fullName":"FT15 project form relation locking wiring sends expectedVersion=0 on add relation","status":"passed","title":"sends expectedVersion=0 on add relation","duration":2.400700000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 project form relation locking wiring"],"fullName":"FT15 project form relation locking wiring sends relationVersion on remove relation","status":"passed","title":"sends relationVersion on remove relation","duration":0.7087999999999965,"failureMessages":[],"meta":{}}],"startTime":1771174068487,"endTime":1771174068489.7087,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/projectForm.statusRelationsLocking.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT03 projects table preview wiring"],"fullName":"FT03 projects table preview wiring uses createAppointmentWeeklyPanelPreview for relevant appointments","status":"passed","title":"uses createAppointmentWeeklyPanelPreview for relevant appointments","duration":2.0358999999999696,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT03 projects table preview wiring"],"fullName":"FT03 projects table preview wiring keeps no-appointment fallback text","status":"passed","title":"keeps no-appointment fallback text","duration":0.48349999999999227,"failureMessages":[],"meta":{}}],"startTime":1771174069428,"endTime":1771174069430.4834,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/projectsTable.preview.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT15 project status page action wiring"],"fullName":"FT15 project status page action wiring wires toggle and delete API mutations","status":"passed","title":"wires toggle and delete API mutations","duration":1.5709999999999695,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 project status page action wiring"],"fullName":"FT15 project status page action wiring sends version for update/toggle/delete","status":"passed","title":"sends version for update/toggle/delete","duration":0.48090000000001965,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT15 project status page action wiring"],"fullName":"FT15 project status page action wiring keeps default status delete disabled in list view","status":"passed","title":"keeps default status delete disabled in list view","duration":0.49169999999998026,"failureMessages":[],"meta":{}}],"startTime":1771174069569,"endTime":1771174069571.4917,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/projectStatusPage.actions.test.tsx"},{"assertionResults":[{"ancestorTitles":["FT02/FT01 relation slot actions"],"fullName":"FT02/FT01 relation slot actions renders add action for empty slot","status":"passed","title":"renders add action for empty slot","duration":17.42820000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT02/FT01 relation slot actions"],"fullName":"FT02/FT01 relation slot actions renders remove action for active slot","status":"passed","title":"renders remove action for active slot","duration":1.7372000000000298,"failureMessages":[],"meta":{}},{"ancestorTitles":["FT02/FT01 relation slot actions"],"fullName":"FT02/FT01 relation slot actions renders no actions for readonly slot","status":"passed","title":"renders no actions for readonly slot","duration":0.7419999999999618,"failureMessages":[],"meta":{}}],"startTime":1771174066257,"endTime":1771174066276.742,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/relationSlot.actions.test.tsx"},{"assertionResults":[{"ancestorTitles":["PKG-08 TableLayout: TableView sticky header"],"fullName":"PKG-08 TableLayout: TableView sticky header applies sticky header classes on header cells when stickyHeader=true","status":"passed","title":"applies sticky header classes on header cells when stickyHeader=true","duration":15.530399999999872,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 TableLayout: TableView sticky header"],"fullName":"PKG-08 TableLayout: TableView sticky header does not apply sticky header classes when stickyHeader=false","status":"passed","title":"does not apply sticky header classes when stickyHeader=false","duration":1.4694999999999254,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 TableLayout: TableView sticky header"],"fullName":"PKG-08 TableLayout: TableView sticky header keeps header alignment/base classes while sticky header is enabled","status":"passed","title":"keeps header alignment/base classes while sticky header is enabled","duration":0.909099999999853,"failureMessages":[],"meta":{}},{"ancestorTitles":["PKG-08 TableLayout: TableView sticky header"],"fullName":"PKG-08 TableLayout: TableView sticky header keeps width and minWidth styles on header cells with sticky header","status":"passed","title":"keeps width and minWidth styles on header cells with sticky header","duration":0.8876000000000204,"failureMessages":[],"meta":{}}],"startTime":1771174067262,"endTime":1771174067280.8877,"status":"passed","message":"","name":"C:/Users/schro/source/repos/MuGPlan/tests/unit/ui/tableView.stickyHeader.test.tsx"}]}